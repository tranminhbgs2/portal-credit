(this["webpackJsonpmatx-react"]=this["webpackJsonpmatx-react"]||[]).push([[15],{1385:function(e,t,a){"use strict";a(3),a(8),a(11),a(25),a(1381),a(0),a(58),a(41)},1392:function(e,t,a){"use strict";a.d(t,"f",(function(){return l})),a.d(t,"c",(function(){return u})),a.d(t,"g",(function(){return s})),a.d(t,"e",(function(){return d})),a.d(t,"d",(function(){return m})),a.d(t,"b",(function(){return p})),a.d(t,"a",(function(){return f}));var n=a(3),r=a.n(n),c=a(11),i=a(15),o=a(16),l=function(){var e=Object(c.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(i.c)(o.a.urlGetListPoss,t).then((function(e){return e})).catch((function(e){return null})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),u=function(){var e=Object(c.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(i.d)(o.a.urlCreatePoss,t).then((function(e){return e})).catch((function(e){return null})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),s=function(){var e=Object(c.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(i.d)(o.a.urlUpdatePoss,t).then((function(e){return e})).catch((function(e){return null})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),d=function(){var e=Object(c.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(i.c)("".concat(o.a.urlDetailPoss,"/").concat(t),{}).then((function(e){return e})).catch((function(e){return null})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),m=function(){var e=Object(c.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(i.c)("".concat(o.a.urlDeletePoss,"/").concat(t),{}).then((function(e){return e})).catch((function(e){return null})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),p=function(){var e=Object(c.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(i.d)(o.a.urlChangeStatusPoss,t).then((function(e){return e})).catch((function(e){return null})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),f=function(){var e=Object(c.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(i.d)(o.a.urlAssignPoss,t).then((function(e){return e})).catch((function(e){return null})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},1396:function(e,t,a){"use strict";var n=a(0),r=n.createContext();t.a=r},1401:function(e,t,a){"use strict";a.d(t,"e",(function(){return l})),a.d(t,"a",(function(){return u})),a.d(t,"g",(function(){return s})),a.d(t,"c",(function(){return d})),a.d(t,"b",(function(){return m})),a.d(t,"f",(function(){return p})),a.d(t,"d",(function(){return f}));var n=a(3),r=a.n(n),c=a(11),i=a(15),o=a(16),l=function(){var e=Object(c.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(i.c)(o.a.urlGetListLotMoney,t).then((function(e){return e})).catch((function(e){return null})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),u=function(){var e=Object(c.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(i.d)(o.a.urlCreateLotMoney,t).then((function(e){return e})).catch((function(e){return null})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),s=function(){var e=Object(c.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(i.d)(o.a.urlUpdateLotMoney,t).then((function(e){return e})).catch((function(e){return null})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),d=function(){var e=Object(c.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(i.c)("".concat(o.a.urlDetailLotMoney,"/").concat(t),{}).then((function(e){return e})).catch((function(e){return null})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),m=function(){var e=Object(c.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(i.c)("".concat(o.a.urlDeleteLotMoney,"/").concat(t),{}).then((function(e){return e})).catch((function(e){return null})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),p=function(){var e=Object(c.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(i.c)(o.a.urlGetListReciprocal,t).then((function(e){return e})).catch((function(e){return null})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),f=function(){var e=Object(c.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(i.d)(o.a.finalLotMoney,t).then((function(e){return e})).catch((function(e){return null})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},1411:function(e,t,a){"use strict";var n=a(0),r=n.createContext();t.a=r},1413:function(e,t,a){"use strict";a.d(t,"a",(function(){return E}));var n=a(14),r=a(8),c=a(3),i=a.n(c),o=a(11),l=a(25),u=a(0),s=a.n(u),d=a(1362),m=a(1366),p=a(1367),f=a(1364),b=a(1400),g=a(1361),h=a(58),v=a(1376),j=(a(279),a(44)),O=a(620),y=a(1392);function E(e){var t=e.open,a=e.setOpen,c=e.selected,E=e.onDoneAssgin,x=Object(u.useState)({}),_=Object(l.a)(x,2),w=_[0],k=_[1],C=Object(u.useState)([]),S=Object(l.a)(C,2),N=S[0],T=S[1];Object(v.a)().t;function D(){a(!1),k({})}Object(u.useEffect)((function(){A()}),[]);var A=function(){var e=Object(o.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(O.c)({});case 2:200==(t=e.sent).data.code&&t.data.data&&T(t.data.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),R=function(e){e.persist(),"price"===e.target.name?null!==e.target.value&&k(Object(r.a)(Object(r.a)({},w),{},Object(n.a)({},e.target.name,e.target.value.split(".").join("")))):k(Object(r.a)(Object(r.a)({},w),{},Object(n.a)({},e.target.name,e.target.value)))},P=function(){var e=Object(o.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!c){e.next=7;break}return e.next=3,Object(y.a)(Object(r.a)(Object(r.a)({},w),{},{pos_id:null===c||void 0===c?void 0:c.id}));case 3:200==(t=e.sent).data.code?(h.c.success("Cho thu\xea Poss th\xe0nh c\xf4ng!",{theme:"colored"}),a(!1),E(),k({})):h.c.error(t.data.error,{theme:"colored"}),e.next=8;break;case 7:h.c.warn("B\u1ea1n ch\u01b0a ch\u1ecdn Pos",{theme:"colored"});case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),M=w.agent_id,L=w.fee;return s.a.createElement(d.a,{open:t,onClose:D,"aria-labelledby":"form-dialog-title"},s.a.createElement(m.a,{id:"form-dialog-title"},"Cho thu\xea m\xe1y Pos ",null===c||void 0===c?void 0:c.name),s.a.createElement(p.a,{style:{minWidth:400}},s.a.createElement(j.ValidatorForm,{onSubmit:P,onError:function(){return null}},s.a.createElement(f.a,{container:!0,spacing:2},s.a.createElement(f.a,{item:!0,lg:12,md:12,sm:12,xs:12},s.a.createElement(j.SelectValidator,{variant:"outlined",label:"\u0110\u1ea1i l\xfd *",className:"w-full",value:M,name:"agent_id",displayEmpty:!0,onChange:R,validators:["required"],errorMessages:["Kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng tr\u01b0\u1eddng n\xe0y"]},N.map((function(e){return s.a.createElement(b.a,{value:e.id},e.name)})))),s.a.createElement(f.a,{item:!0,lg:12,md:12,sm:12,xs:12},s.a.createElement(j.TextValidator,{variant:"outlined",className:"w-full",label:"Ph\xed Pos *",onChange:R,type:"text",name:"fee",value:L||"",validators:["required","isFloat"],errorMessages:["Kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng tr\u01b0\u1eddng n\xe0y","Ph\xed m\u1eb7c \u0111\u1ecbnh kh\xf4ng \u0111\xfang \u0111\u1ecbnh d\u1ea1ng"]}))),s.a.createElement(f.a,{className:"mt-8 mb-4",container:!0,justify:"flex-end"},s.a.createElement(g.a,{style:{marginRight:20},color:"inherit",variant:"contained",onClick:D},s.a.createElement("span",{className:"capitalize"},"Quay l\u1ea1i")),s.a.createElement(g.a,{color:"primary",variant:"contained",type:"submit"},s.a.createElement("span",{className:"capitalize"},"\u0110\u1ed3ng \xfd"))))))}},1443:function(e,t,a){"use strict";var n=a(1),r=a(6),c=a(0),i=(a(5),a(4)),o=a(12),l=c.forwardRef((function(e,t){var a=e.classes,o=e.className,l=e.component,u=void 0===l?"div":l,s=Object(r.a)(e,["classes","className","component"]);return c.createElement(u,Object(n.a)({ref:t,className:Object(i.a)(a.root,o)},s))}));t.a=Object(o.a)({root:{width:"100%",overflowX:"auto"}},{name:"MuiTableContainer"})(l)},1444:function(e,t,a){"use strict";var n=a(6),r=a(1),c=a(0),i=(a(5),a(4)),o=a(12),l=a(1411),u=c.forwardRef((function(e,t){var a=e.classes,o=e.className,u=e.component,s=void 0===u?"table":u,d=e.padding,m=void 0===d?"default":d,p=e.size,f=void 0===p?"medium":p,b=e.stickyHeader,g=void 0!==b&&b,h=Object(n.a)(e,["classes","className","component","padding","size","stickyHeader"]),v=c.useMemo((function(){return{padding:m,size:f,stickyHeader:g}}),[m,f,g]);return c.createElement(l.a.Provider,{value:v},c.createElement(s,Object(r.a)({role:"table"===s?null:"table",ref:t,className:Object(i.a)(a.root,o,g&&a.stickyHeader)},h)))}));t.a=Object(o.a)((function(e){return{root:{display:"table",width:"100%",borderCollapse:"collapse",borderSpacing:0,"& caption":Object(r.a)({},e.typography.body2,{padding:e.spacing(2),color:e.palette.text.secondary,textAlign:"left",captionSide:"bottom"})},stickyHeader:{borderCollapse:"separate"}}}),{name:"MuiTable"})(u)},1445:function(e,t,a){"use strict";var n=a(1),r=a(6),c=a(0),i=(a(5),a(4)),o=a(12),l=a(1396),u={variant:"head"},s=c.forwardRef((function(e,t){var a=e.classes,o=e.className,s=e.component,d=void 0===s?"thead":s,m=Object(r.a)(e,["classes","className","component"]);return c.createElement(l.a.Provider,{value:u},c.createElement(d,Object(n.a)({className:Object(i.a)(a.root,o),ref:t,role:"thead"===d?null:"rowgroup"},m)))}));t.a=Object(o.a)({root:{display:"table-header-group"}},{name:"MuiTableHead"})(s)},1446:function(e,t,a){"use strict";var n=a(1),r=a(6),c=a(0),i=(a(5),a(4)),o=a(12),l=a(1396),u=a(35),s=c.forwardRef((function(e,t){var a=e.classes,o=e.className,u=e.component,s=void 0===u?"tr":u,d=e.hover,m=void 0!==d&&d,p=e.selected,f=void 0!==p&&p,b=Object(r.a)(e,["classes","className","component","hover","selected"]),g=c.useContext(l.a);return c.createElement(s,Object(n.a)({ref:t,className:Object(i.a)(a.root,o,g&&{head:a.head,footer:a.footer}[g.variant],m&&a.hover,f&&a.selected),role:"tr"===s?null:"row"},b))}));t.a=Object(o.a)((function(e){return{root:{color:"inherit",display:"table-row",verticalAlign:"middle",outline:0,"&$hover:hover":{backgroundColor:e.palette.action.hover},"&$selected, &$selected:hover":{backgroundColor:Object(u.d)(e.palette.secondary.main,e.palette.action.selectedOpacity)}},selected:{},hover:{},head:{},footer:{}}}),{name:"MuiTableRow"})(s)},1447:function(e,t,a){"use strict";var n=a(6),r=a(1),c=a(0),i=(a(5),a(4)),o=a(12),l=a(18),u=a(35),s=a(1411),d=a(1396),m=c.forwardRef((function(e,t){var a,o,u=e.align,m=void 0===u?"inherit":u,p=e.classes,f=e.className,b=e.component,g=e.padding,h=e.scope,v=e.size,j=e.sortDirection,O=e.variant,y=Object(n.a)(e,["align","classes","className","component","padding","scope","size","sortDirection","variant"]),E=c.useContext(s.a),x=c.useContext(d.a),_=x&&"head"===x.variant;b?(o=b,a=_?"columnheader":"cell"):o=_?"th":"td";var w=h;!w&&_&&(w="col");var k=g||(E&&E.padding?E.padding:"default"),C=v||(E&&E.size?E.size:"medium"),S=O||x&&x.variant,N=null;return j&&(N="asc"===j?"ascending":"descending"),c.createElement(o,Object(r.a)({ref:t,className:Object(i.a)(p.root,p[S],f,"inherit"!==m&&p["align".concat(Object(l.a)(m))],"default"!==k&&p["padding".concat(Object(l.a)(k))],"medium"!==C&&p["size".concat(Object(l.a)(C))],"head"===S&&E&&E.stickyHeader&&p.stickyHeader),"aria-sort":N,role:a,scope:w},y))}));t.a=Object(o.a)((function(e){return{root:Object(r.a)({},e.typography.body2,{display:"table-cell",verticalAlign:"inherit",borderBottom:"1px solid\n    ".concat("light"===e.palette.type?Object(u.i)(Object(u.d)(e.palette.divider,1),.88):Object(u.a)(Object(u.d)(e.palette.divider,1),.68)),textAlign:"left",padding:16}),head:{color:e.palette.text.primary,lineHeight:e.typography.pxToRem(24),fontWeight:e.typography.fontWeightMedium},body:{color:e.palette.text.primary},footer:{color:e.palette.text.secondary,lineHeight:e.typography.pxToRem(21),fontSize:e.typography.pxToRem(12)},sizeSmall:{padding:"6px 24px 6px 16px","&:last-child":{paddingRight:16},"&$paddingCheckbox":{width:24,padding:"0 12px 0 16px","&:last-child":{paddingLeft:12,paddingRight:16},"& > *":{padding:0}}},paddingCheckbox:{width:48,padding:"0 0 0 4px","&:last-child":{paddingLeft:0,paddingRight:4}},paddingNone:{padding:0,"&:last-child":{padding:0}},alignLeft:{textAlign:"left"},alignCenter:{textAlign:"center"},alignRight:{textAlign:"right",flexDirection:"row-reverse"},alignJustify:{textAlign:"justify"},stickyHeader:{position:"sticky",top:0,left:0,zIndex:2,backgroundColor:e.palette.background.default}}}),{name:"MuiTableCell"})(m)},1448:function(e,t,a){"use strict";var n=a(1),r=a(6),c=a(0),i=(a(5),a(4)),o=a(12),l=a(1396),u={variant:"body"},s=c.forwardRef((function(e,t){var a=e.classes,o=e.className,s=e.component,d=void 0===s?"tbody":s,m=Object(r.a)(e,["classes","className","component"]);return c.createElement(l.a.Provider,{value:u},c.createElement(d,Object(n.a)({className:Object(i.a)(a.root,o),ref:t,role:"tbody"===d?null:"rowgroup"},m)))}));t.a=Object(o.a)({root:{display:"table-row-group"}},{name:"MuiTableBody"})(s)},1454:function(e,t,a){"use strict";a.d(t,"a",(function(){return p}));var n=a(25),r=a(0),c=a.n(r),i=a(1318),o=a(1353),l=a(374),u=a(1361),s=a(378),d=a(279),m=Object(i.a)((function(e){return{typography:{padding:e.spacing(2)}}}));function p(e){m();var t=c.a.useState(null),a=Object(n.a)(t,2),i=a[0],p=a[1],f=Object(r.useState)({startDate:new Date,endDate:new Date}),b=Object(n.a)(f,2),g=b[0],h=b[1],v=Boolean(i),j=v?"simple-popover":void 0;return c.a.createElement("div",null,c.a.createElement(u.a,{style:{padding:10,height:41,width:200},variant:"outlined",onClick:function(e){p(e.currentTarget)}},e.date?c.a.createElement("p",null,Object(d.e)(null===g||void 0===g?void 0:g.startDate)," -"," ",Object(d.e)(null===g||void 0===g?void 0:g.endDate)," "):c.a.createElement("p",null,"dd/mm/YY-dd/mm/YY")),c.a.createElement(o.a,{id:j,open:v,anchorEl:i,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},c.a.createElement(s.DateRangePicker,{ranges:[g],onChange:function(e){h(e.range1)}}),c.a.createElement("div",{style:{justifyContent:"right",alignItems:"flex-end",display:"flex",paddingRight:10,paddingBottom:15}},c.a.createElement(u.a,{style:{width:100,height:30,marginRight:20},onClick:function(){return e.changeDateRange(null,null),void p(null)},variant:"contained"},c.a.createElement(l.a,{variant:"caption"},"Hu\u1ef7")),c.a.createElement(u.a,{style:{width:100,height:30},onClick:function(){return e.changeDateRange(g.startDate,g.endDate),void p(null)},variant:"contained",color:"primary"},c.a.createElement(l.a,{variant:"caption"},"\xc1p d\u1ee5ng")))))}},1456:function(e,t,a){"use strict";var n=a(14),r=a(3),c=a.n(r),i=a(11),o=a(8),l=a(25),u=a(0),s=a.n(u),d=a(1362),m=a(1366),p=a(1367),f=a(1364),b=a(1400),g=a(1361),h=a(58),v=a(1376),j=a(279),O=a(44),y=a(1384),E=a(620),x=a(1381),_=a(145);t.a=Object(_.b)((function(e){return{}}),{showLoading:x.b,hideLoading:x.a})((function(e){var t=e.open,a=e.setOpen,r=e.selected,x=e.reloadData,_=Object(u.useState)([]),w=Object(l.a)(_,2),k=w[0],C=w[1],S=Object(u.useState)({type_from:"MASTER",type_to:"AGENCY",time_payment:Object(j.i)(new Date)}),N=Object(l.a)(S,2),T=N[0],D=N[1],A=Object(u.useState)([]),R=Object(l.a)(A,2),P=R[0],M=R[1],L=Object(u.useState)(new Date),z=Object(l.a)(L,2),I=(z[0],z[1],Object(u.useState)([])),W=Object(l.a)(I,2),V=(W[0],W[1],Object(u.useState)([])),H=Object(l.a)(V,2),q=H[0],K=H[1],B=Object(u.useState)([]),F=Object(l.a)(B,2),G=F[0],Y=F[1],$=Object(u.useState)([]),J=Object(l.a)($,2),Q=(J[0],J[1],Object(v.a)().t);Object(u.useEffect)((function(){r&&D(Object(o.a)(Object(o.a)({},T),{},{hkd_id:r.id,price_withdraw:r.balance}))}),[r]),Object(u.useEffect)((function(){r&&D(Object(o.a)(Object(o.a)({},T),{},{agent_to:r.agent_id}))}),[r]),Object(u.useEffect)((function(){T.type_to&&U(T.type_to,T.agent_to)}),[T.agent_to]),Object(u.useEffect)((function(){X()}),[]);var U=function(){var e=Object(i.a)(c.a.mark((function e(t,a){var n,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(D(Object(o.a)(Object(o.a)({},T),{},{acc_bank_to_id:null})),!a||!t){e.next=6;break}return e.next=4,Object(E.e)(t,a);case 4:200==(n=e.sent).data.code&&n.data.data&&(r=n.data.data.map((function(e){return Object(o.a)(Object(o.a)({},e),{},{name:"".concat(null===e||void 0===e?void 0:e.bank_code,"-").concat(null===e||void 0===e?void 0:e.account_name)})})),Y(r));case 6:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),X=function(){var e=Object(i.a)(c.a.mark((function e(){var t,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return D(Object(o.a)(Object(o.a)({},T),{},{acc_bank_from_id:null})),e.next=3,Object(E.d)("MASTER");case 3:200==(t=e.sent).data.code&&t.data.data&&(a=t.data.data.map((function(e){return Object(o.a)(Object(o.a)({},e),{},{name:"".concat(null===e||void 0===e?void 0:e.bank_code,"-").concat(null===e||void 0===e?void 0:e.account_name)})})),K(a));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function Z(){a(!1)}Object(u.useEffect)((function(){ee()}),[]);var ee=function(){var e=Object(i.a)(c.a.mark((function e(){var t,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(E.r)({});case 2:return 200==(t=e.sent).data.code&&t.data.data&&M(t.data.data),e.next=6,Object(E.c)({});case 6:200==(a=e.sent).data.code&&a.data.data&&C(a.data.data);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),te=function(e){e.persist(),"price"===e.target.name?null!==e.target.value&&D(Object(o.a)(Object(o.a)({},T),{},Object(n.a)({},e.target.name,e.target.value.split(".").join("")))):D(Object(o.a)(Object(o.a)({},T),{},Object(n.a)({},e.target.name,e.target.value)))},ae=function(){var t=Object(i.a)(c.a.mark((function t(a){var n,r;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if((null===(n=Object(j.l)(T))||void 0===n?void 0:n.acc_bank_from_id)==(null===n||void 0===n?void 0:n.acc_bank_to_id)){t.next=10;break}return e.showLoading(),t.next=5,Object(y.h)(Object(o.a)(Object(o.a)({},n),{},{price:parseInt(null===n||void 0===n?void 0:n.price)}));case 5:r=t.sent,e.hideLoading(),200==r.data.code?(Z(),h.c.success("T\u1ea1o l\u1ec7nh chuy\u1ec3n ti\u1ec1n v\u1ec1 th\xe0nh c\xf4ng!",{theme:"colored"}),x()):h.c.error(Q(r.data.error),{theme:"colored"}),t.next=11;break;case 10:h.c.warn("T\xe0i kho\u1ea3n chuy\u1ec3n ti\u1ec1n v\xe0 t\xe0i kho\u1ea3n nh\u1eadn ti\u1ec1n kh\xf4ng \u0111\u01b0\u1ee3c tr\xf9ng nhau",{theme:"colored"});case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),ne=T.acc_bank_from_id,re=T.acc_bank_to_id,ce=T.type_to,ie=T.price,oe=T.type_from,le=T.time_payment,ue=T.agent_to;return s.a.createElement(d.a,{open:t,onClose:Z,"aria-labelledby":"form-dialog-title",maxWidth:"md"},s.a.createElement(m.a,{id:"form-dialog-title"},"T\u1ea1o l\u1ec7nh chuy\u1ec3n ti\u1ec1n"),s.a.createElement(p.a,{style:{minWidth:400}},s.a.createElement(O.ValidatorForm,{onSubmit:ae,onError:function(){return null}},s.a.createElement(f.a,{container:!0,spacing:2},oe&&s.a.createElement(f.a,{item:!0,lg:6,md:6,sm:12,xs:12},s.a.createElement(O.SelectValidator,{variant:"outlined",label:"Chuy\u1ec3n kho\u1ea3n t\u1eeb *",className:"w-full",value:oe,name:"type_from",disabled:!0,displayEmpty:!0,onChange:te,validators:["required"],errorMessages:["Kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng tr\u01b0\u1eddng n\xe0y"]},P.map((function(e){return s.a.createElement(b.a,{value:e.code},e.name)})))),s.a.createElement(f.a,{item:!0,lg:6,md:6,sm:12,xs:12},s.a.createElement(O.SelectValidator,{variant:"outlined",label:"Ch\u1ecdn t\xe0i kho\u1ea3n chuy\u1ec3n ti\u1ec1n *",className:"w-full",value:ne,name:"acc_bank_from_id",displayEmpty:!0,onChange:te},q.map((function(e){return s.a.createElement(b.a,{value:e.id},e.name)})))),ce&&s.a.createElement(f.a,{item:!0,lg:6,md:6,sm:12,xs:12},s.a.createElement(O.SelectValidator,{variant:"outlined",label:"Chuy\u1ec3n kho\u1ea3n \u0111\u1ebfn *",className:"w-full",value:ce,name:"type_to",disabled:!0,displayEmpty:!0,onChange:te,validators:["required"],errorMessages:["Kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng tr\u01b0\u1eddng n\xe0y"]},P.map((function(e){return s.a.createElement(b.a,{value:e.code},e.name)})))),s.a.createElement(f.a,{item:!0,lg:6,md:6,sm:12,xs:12},s.a.createElement(O.SelectValidator,{variant:"outlined",label:"\u0110\u1ebfn \u0111\u1ea1i l\xfd *",className:"w-full",value:ue,name:"agent_to",displayEmpty:!0,onChange:te},k.map((function(e){return s.a.createElement(b.a,{value:e.id},e.name)})))),s.a.createElement(f.a,{item:!0,lg:6,md:6,sm:12,xs:12},s.a.createElement(O.SelectValidator,{variant:"outlined",label:"Ch\u1ecdn t\xe0i kho\u1ea3n nh\u1eadn ti\u1ec1n *",className:"w-full",value:re,name:"acc_bank_to_id",displayEmpty:!0,onChange:te},G.map((function(e){return s.a.createElement(b.a,{value:e.id},e.name)})))),s.a.createElement(f.a,{item:!0,lg:6,md:6,sm:12,xs:12},s.a.createElement(O.TextValidator,{variant:"outlined",className:"w-full",label:"S\u1ed1 ti\u1ec1n chuy\u1ec3n kho\u1ea3n *",onChange:te,type:"text",name:"price",value:Object(j.k)(ie)||"",validators:["required"],errorMessages:["Kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng tr\u01b0\u1eddng n\xe0y"]})),s.a.createElement(f.a,{item:!0,lg:6,md:6,sm:12,xs:12},s.a.createElement(O.TextValidator,{variant:"outlined",className:"w-full",label:"Th\u1eddi gian chuy\u1ec3n kho\u1ea3n *",onChange:te,type:"text",name:"time_payment",value:le||"",validators:["required"],errorMessages:["Kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng tr\u01b0\u1eddng n\xe0y"]}))),s.a.createElement(f.a,{className:"mt-8 mb-4",container:!0,justify:"flex-end"},s.a.createElement(g.a,{style:{marginRight:20},color:"inherit",variant:"contained",onClick:Z},s.a.createElement("span",{className:"capitalize"},"Quay l\u1ea1i")),s.a.createElement(g.a,{color:"primary",variant:"contained",type:"submit"},s.a.createElement("span",{className:"capitalize"},"\u0110\u1ed3ng \xfd"))))))}))},1558:function(e,t,a){"use strict";a.r(t);var n=a(3),r=a.n(n),c=a(11),i=a(25),o=a(0),l=a.n(o),u=a(14),s=a(1318),d=a(1364),m=a(1359),p=a(1379),f=a(1371),b=a(1361),g=a(1351),h=a(374),v=a(120),j=a(47),O=a(1382),y=a(279),E=a(278),x=a(1443),_=a(1444),w=a(1445),k=a(1446),C=a(1447),S=a(1448),N=a(1388),T=a(146),D=(a(1389),a(145)),A=a(58),R=a(1386),P=(a(64),a(41)),M=(a(1402),a(1403),a(1413),[{id:"index",label:"STT",align:"center",minWidth:50},{id:"name_pos",label:"M\xe1y Pos",align:"left",minWidth:220},{id:"time_end",label:"Th\u1eddi gian",align:"left",minWidth:120},{id:"lo_number",label:"L\xf4",align:"left",minWidth:80},{id:"total_price",label:"S\u1ed1 ti\u1ec1n qu\u1eb9t",align:"left",minWidth:120,isMonney:!0},{id:"fee_agent",label:"Ph\xed (%)",align:"left",minWidth:80},{id:"payment_agent",label:"Th\xe0nh ti\u1ec1n",align:"left",minWidth:120,isMonney:!0},{id:"total_payment",label:"S\u1ed1 ti\u1ec1n \u0111\xe3 chuy\u1ec3n kho\u1ea3n",align:"left",minWidth:120,isMonney:!0}]);var L=Object(D.b)((function(e){return{}}),{})((function(e){var t=e.data,a=(e.handeChangeActive,e.removeItem),n=(e.changeActive,e.setChangeActive,e.setPageIndex,e.setPageSize,e.pageIndex,e.totalRecords,e.permissions,e.paymentGateVPBank,e.onCreateLink,e.onDoneAssgin,Object(R.a)()),r=Object(o.useState)(),c=Object(i.a)(r,2),u=(c[0],c[1],Object(o.useState)()),s=Object(i.a)(u,2),d=s[0],m=(s[1],l.a.useState(!1)),p=Object(i.a)(m,2),f=(p[0],p[1],l.a.useState(!1)),b=Object(i.a)(f,2),g=(b[0],b[1],Object(o.useState)([])),h=Object(i.a)(g,2),v=(h[0],h[1]),D=Object(o.useState)(),A=Object(i.a)(D,2),P=(A[0],A[1],Object(j.g)()),L=Object(o.useState)(!1),z=Object(i.a)(L,2),I=z[0],W=z[1];return Object(o.useEffect)((function(){v([])}),[t]),Object(T.a)().user,l.a.createElement(E.a,{className:n.root},l.a.createElement(x.a,{className:n.container},l.a.createElement(_.a,{stickyHeader:!0,"aria-label":"sticky table"},l.a.createElement(w.a,null,l.a.createElement(k.a,null,M.map((function(e){return l.a.createElement(C.a,{key:e.id,align:"center",style:{width:e.minWidth,backgroundColor:O.a.headerTable,color:"white"}},e.label)})))),l.a.createElement(S.a,{className:n.columnTable},t.map((function(e){return l.a.createElement(k.a,{hover:!0,role:"checkbox",tabIndex:-1,key:e.id},M.map((function(t){var a=e[t.id];return l.a.createElement(C.a,{key:t.id,align:t.align,onClick:function(){"lo_number"==t.id?e.id_lot&&P.push({pathname:"/reciprocal/update",state:{id:e.id_lot,agent:null,household:null}}):"total_payment"==t.id&&e.id_transfer&&P.push({pathname:"/transfer/update",state:e.id_transfer})},style:{textAlign:"center",cursor:"lo_number"==t.id||"total_payment"==t.id?"pointer":"default",textDecorationLine:"lo_number"==t.id||"total_payment"==t.id?"underline":"none"}},t.isMonney?Object(y.j)(a):a)})))}))))),l.a.createElement(N.a,{data:{title:"Xo\xe1 Poss",content:"Ba\u0323n co\u0301 ch\u1eafc ch\u1eafn mu\xf4\u0301n xo\u0301a Poss ".concat(null===d||void 0===d?void 0:d.name," hay kh\xf4ng?")},open:I,handleClose:function(){return W(!1)},onAgree:function(){a(null===d||void 0===d?void 0:d.id),W(!1)}}))})),z=a(1454),I=a(8),W=a(1362),V=a(1366),H=a(1367),q=a(1400),K=a(590),B=a(1376),F=a(44),G=a(1556),Y=a(1401),$=a(620),J=a(1381);var Q=Object(D.b)((function(e){return{}}),{showLoading:J.b,hideLoading:J.a})((function(e){var t=e.open,a=e.setOpen,n=e.selected,s=e.reloadData,m=Object(o.useState)([]),p=Object(i.a)(m,2),f=p[0],g=p[1],h=Object(o.useState)({time_end:Object(y.i)(new Date)}),v=Object(i.a)(h,2),j=v[0],O=v[1],E=Object(o.useState)("123"),x=Object(i.a)(E,2),_=(x[0],x[1],Object(o.useState)([])),w=Object(i.a)(_,2),k=w[0],C=w[1],S=Object(B.a)().t;function N(){a(!1),O(Object(I.a)(Object(I.a)({},j),{},{pos_id:null,lo_number:""}))}Object(o.useEffect)((function(){n&&O(Object(I.a)(Object(I.a)({},j),{},{agent_id:n.agent_id}))}),[n]),Object(o.useEffect)((function(){T()}),[]);var T=function(){var e=Object(c.a)(r.a.mark((function e(){var t,a,n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object($.n)({});case 2:return 200==(t=e.sent).data.code&&t.data.data&&(a=t.data.data.map((function(e){return Object(I.a)(Object(I.a)({},e),{},{name:"".concat(null===e||void 0===e?void 0:e.bank_code," - ").concat(null===e||void 0===e?void 0:e.name)})})),C(a)),e.next=6,Object($.c)({});case 6:200==(n=e.sent).data.code&&n.data.data&&g(n.data.data);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),D=function(e){e.persist(),"total_price"===e.target.name?null!==e.target.value&&O(Object(I.a)(Object(I.a)({},j),{},Object(u.a)({},e.target.name,e.target.value.split(".").join("")))):O(Object(I.a)(Object(I.a)({},j),{},Object(u.a)({},e.target.name,e.target.value)))},R=function(){var t=Object(c.a)(r.a.mark((function t(a){var n,c;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=Object(y.l)(j),e.showLoading(),t.next=4,Object(Y.a)(Object(I.a)(Object(I.a)({},n),{},{lo_number:parseInt(null===n||void 0===n?void 0:n.lo_number),total_price:parseInt(null===n||void 0===n?void 0:n.total_price)}));case 4:c=t.sent,e.hideLoading(),200==c.data.code?(N(),A.c.success("T\u1ea1o giao d\u1ecbch \u0111\u1ed1i \u1ee9ng th\xe0nh c\xf4ng!",{theme:"colored"}),s(),O(Object(I.a)(Object(I.a)({},j),{},{pos_id:null,lo_number:""}))):A.c.error(S(c.data.error),{theme:"colored"});case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),P=j.agent_id,M=j.pos_id,L=j.lo_number,z=j.total_price,J=j.fee_agent,Q=j.time_end;return console.log("pos_id",M),l.a.createElement(W.a,{open:t,onClose:N,"aria-labelledby":"form-dialog-title",maxWidth:"md"},l.a.createElement(V.a,{id:"form-dialog-title"},"T\u1ea1o l\xf4 ti\u1ec1n \u0111\u1ea1i l\xfd"),l.a.createElement(H.a,{style:{minWidth:500}},l.a.createElement(F.ValidatorForm,{onSubmit:R,onError:function(){return null}},l.a.createElement(d.a,{container:!0,spacing:2},P&&l.a.createElement(d.a,{item:!0,lg:6,md:6,sm:12,xs:12},l.a.createElement(F.SelectValidator,{variant:"outlined",fullWidth:!0,label:"Ch\u1ecdn \u0111\u1ea1i l\xfd ",className:"w-full",value:P,name:"agent_id",displayEmpty:!0,onChange:D},f.map((function(e){return l.a.createElement(q.a,{value:e.id},e.name)})))),l.a.createElement(d.a,{item:!0,lg:6,md:6,sm:12,xs:12},l.a.createElement(G.a,{id:"combo-box-demo",options:k,native:!0,fullWidth:!0,getOptionSelected:function(e,t){return e.name==t.name},onChange:function(e,t){console.log("newValue",t),O(t?Object(I.a)(Object(I.a)({},j),{},{pos_id:null===t||void 0===t?void 0:t.id}):Object(I.a)(Object(I.a)({},j),{},{pos_id:null}))},style:{height:40},getOptionLabel:function(e){return e.name||""},renderInput:function(e){return l.a.createElement(K.a,Object.assign({style:{height:40}},e,{label:"M\xe1y Pos",variant:"outlined"}))}})),l.a.createElement(d.a,{item:!0,lg:6,md:6,sm:12,xs:12},l.a.createElement(F.TextValidator,{variant:"outlined",className:"w-full",label:"S\u1ed1 l\xf4 *",onChange:D,type:"text",name:"lo_number",value:L||"",validators:["required","isNumber"],errorMessages:["Kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng tr\u01b0\u1eddng n\xe0y","Tr\u01b0\u1eddng n\xe0y ph\u1ea3i nh\u1eadp s\u1ed1 "]})),l.a.createElement(d.a,{item:!0,lg:6,md:6,sm:12,xs:12},l.a.createElement(F.TextValidator,{variant:"outlined",className:"w-full",label:"T\u1ed5ng ti\u1ec1n *",onChange:D,type:"text",name:"total_price",value:Object(y.k)(z)||"",validators:["required"],errorMessages:["Kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng tr\u01b0\u1eddng n\xe0y"]})),l.a.createElement(d.a,{item:!0,lg:6,md:6,sm:12,xs:12},l.a.createElement(F.TextValidator,{variant:"outlined",className:"w-full",label:"Ph\xed \u0111\u1ea1i l\xfd *",onChange:D,type:"text",name:"fee_agent",value:J||"",validators:["required","isFloat"],errorMessages:["Kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng tr\u01b0\u1eddng n\xe0y","Ph\xed m\u1eb7c \u0111\u1ecbnh kh\xf4ng \u0111\xfang \u0111\u1ecbnh d\u1ea1ng"]})),l.a.createElement(d.a,{item:!0,lg:6,md:6,sm:12,xs:12},l.a.createElement(F.TextValidator,{variant:"outlined",className:"w-full",label:"Th\u1eddi gian k\u1ebft to\xe1n *",onChange:D,type:"text",name:"time_end",value:Q||"",validators:["required"],errorMessages:["Kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng tr\u01b0\u1eddng n\xe0y"]}))),l.a.createElement(d.a,{className:"mt-8 mb-4",container:!0,justify:"flex-end"},l.a.createElement(b.a,{style:{marginRight:20},color:"inherit",variant:"contained",onClick:N},l.a.createElement("span",{className:"capitalize"},"Quay l\u1ea1i")),l.a.createElement(b.a,{color:"primary",variant:"contained",type:"submit"},l.a.createElement("span",{className:"capitalize"},"\u0110\u1ed3ng \xfd"))))))})),U=a(1456),X=Object(s.a)((function(e){var t;return{home:{display:"flex",fontSize:20,marginTop:20,textTransform:"capitalize"},button:{textTransform:"capitalize",backgroundColor:O.a.main,color:"#fff",width:100,"&:hover":{backgroundColor:O.a.main}},formControl:{minWidth:200},icon:{marginTop:3},title:{fontWeight:"bold"},buttons:(t={marginRight:e.spacing(2),textTransform:"capitalize"},Object(u.a)(t,"textTransform","capitalize"),Object(u.a)(t,"background","#4caf50 !important"),Object(u.a)(t,"color","#fff"),t),search:{minWidth:200},flexfilter:{display:"flex"},active:{marginLeft:30},addaccount:{color:"#fff",textDecoration:"none"}}}));var Z=function(e){Object(j.g)();var t=e.data,a=e.updateItem,n=e.removeItem,r=(e.setTxtSearch,e.changeActive),c=e.setChangeActive,u=e.handeChangeActive,s=e.setPageIndex,O=e.pageIndex,E=e.totalRecords,x=(e.setActiveSeleted,e.activeSelected,e.permissions),_=(e.handleChangeError,e.handleDateChangeLast,e.datePicker,e.paymentGateVPBank),w=e.onCreateLink,k=e.onDoneAssgin,C=(e.household,e.setHousehold,e.listHousehold,e.startDate),S=e.changeDateRange,N=e.report,D=e.setAgent,A=e.agent,R=e.listAgent,P=e.reloadData,M=Object(o.useState)(!1),I=Object(i.a)(M,2),W=I[0],V=I[1],H=Object(o.useState)(!1),q=Object(i.a)(H,2),K=q[0],B=q[1],F=X(),G=Object(T.a)().user;return l.a.createElement(o.Fragment,null,l.a.createElement("div",{className:"m-sm-30"},l.a.createElement("div",{className:"mb-sm-30"},l.a.createElement(v.a,{routeSegments:[{name:"\u0110\u1ed1i \u1ee9ng \u0111\u1ea1i l\xfd",path:"/agent-report"}]})),l.a.createElement(d.a,{container:!0,spacing:3},l.a.createElement(d.a,{item:!0,xs:12,container:!0,justifyContent:"space-between",alignItems:"center",spacing:3},l.a.createElement(d.a,{style:{padding:10},justify:"space-between",alignItems:"center",container:!0,spacing:3},l.a.createElement(d.a,{item:!0,container:!0,spacing:2,lg:12,md:12,sm:12,xs:12},l.a.createElement(d.a,{item:!0,lg:3,md:4,sm:6,xs:6},l.a.createElement(m.a,{variant:"outlined",fullWidth:!0,className:F.formControl},A?"":l.a.createElement(p.a,{htmlFor:"outlined-age-native-simple"},"\u0110\u1ea1i l\xfd"),l.a.createElement(f.a,{native:!0,fullWidth:!0,label:"",value:A,onChange:function(e){return D(e.target.value)},inputProps:{name:"age",id:"outlined-age-native-simple"}},R.map((function(e){return l.a.createElement("option",{value:e.id},e.name)}))))),l.a.createElement(d.a,{item:!0,lg:3,md:3,sm:6,xs:6},l.a.createElement(z.a,{date:C,changeDateRange:S})),l.a.createElement(d.a,{item:!0,lg:6,md:6,sm:12,xs:12,style:{display:"flex",justifyContent:"flex-end"}},Object(y.b)(G,"/reciprocal/create")?l.a.createElement(b.a,{variant:"contained",className:"bg-light-primary",onClick:function(){B(!0)},style:{height:40,marginRight:20,width:150}},l.a.createElement(g.a,{style:{color:"white",marginRight:10}},"add_circle"),l.a.createElement("span",{className:"text-primary"},"L\xf4 ti\u1ec1n")):null,Object(y.b)(G,"/transfer/create")?l.a.createElement(b.a,{variant:"contained",className:"bg-light-primary",onClick:function(){V(!0)},style:{height:40,width:150}},l.a.createElement(g.a,{style:{color:"white",marginRight:10}},"add_circle"),l.a.createElement("span",{className:"text-primary"},"Chuy\u1ec3n ti\u1ec1n")):null)))),l.a.createElement(d.a,{xs:12,container:!0,item:!0},l.a.createElement(d.a,{lg:6,md:6,sm:6,xs:6,container:!0,item:!0},l.a.createElement(h.a,{variant:"h6"},"T\u1ed5ng ti\u1ec1n c\u1ea7n chuy\u1ec3n kho\u1ea3n:"," ",Object(y.j)(null===N||void 0===N?void 0:N.total_payment_agent,!0)," ","\u0111")),l.a.createElement(d.a,{lg:6,md:6,sm:6,xs:6,container:!0,item:!0},l.a.createElement(h.a,{variant:"h6"},"T\u1ed5ng ti\u1ec1n \u0111\xe3 chuy\u1ec3n kho\u1ea3n:"," ",Object(y.j)(null===N||void 0===N?void 0:N.total_transfer,!0)," \u0111")),l.a.createElement(d.a,{lg:6,md:6,sm:6,xs:6,container:!0,item:!0},l.a.createElement(h.a,{variant:"h6"},"D\u01b0 n\u1ee3: ",Object(y.j)(null===N||void 0===N?void 0:N.total_cash,!0)," \u0111"))),l.a.createElement(d.a,{xs:12,item:!0},l.a.createElement(L,{data:t,changeActive:r,setChangeActive:c,handeChangeActive:u,updateItem:a,removeItem:n,pageIndex:O,setPageIndex:s,totalRecords:E,permissions:x,paymentGateVPBank:_,onCreateLink:w,onDoneAssgin:k})),l.a.createElement(Q,{selected:{agent_id:A},open:K,setOpen:B,reloadData:P}),l.a.createElement(U.a,{selected:{agent_id:A},open:W,setOpen:V,reloadData:P}))))},ee=a(1384),te=a(1387);a(1385),t.default=Object(D.b)((function(e){return{}}),{showLoading:J.b,hideLoading:J.a})((function(e){var t=Object(j.h)(),a=Object(o.useState)(""),n=Object(i.a)(a,2),u=n[0],s=n[1],d=Object(o.useState)(null),m=Object(i.a)(d,2),p=m[0],f=m[1],b=Object(o.useState)(),g=Object(i.a)(b,2),h=g[0],v=g[1],O=Object(o.useState)([]),E=Object(i.a)(O,2),x=E[0],_=(E[1],Object(o.useState)({})),w=Object(i.a)(_,2),k=w[0],C=w[1],S=Object(o.useState)(),N=Object(i.a)(S,2),T=N[0],D=N[1],R=Object(o.useState)([]),M=Object(i.a)(R,2),L=M[0],z=M[1],I=Object(o.useState)(1),W=Object(i.a)(I,2),V=W[0],H=W[1],q=Object(o.useState)(0),K=Object(i.a)(q,2),B=K[0],F=K[1],G=Object(o.useState)(200),Y=(Object(i.a)(G,1)[0],Object(o.useState)(0)),J=Object(i.a)(Y,2),Q=J[0],U=(J[1],Object(te.a)(u,1e3),Object(o.useState)(new Date)),X=Object(i.a)(U,2),ae=X[0],ne=X[1],re=Object(o.useState)(new Date),ce=Object(i.a)(re,2),ie=ce[0],oe=ce[1],le=Object(j.g)(),ue=Object(o.useState)([]),se=Object(i.a)(ue,2),de=se[0],me=se[1];Object(o.useEffect)((function(){t.agent_id&&setTimeout((function(){D(t.agent_id)}),1e3)}),[t.agent_id]),Object(o.useEffect)((function(){T&&be(!1)}),[B]),Object(o.useEffect)((function(){T&&be(!0)}),[T,ae]),Object(o.useEffect)((function(){pe()}),[]);var pe=function(){var e=Object(c.a)(r.a.mark((function e(){var a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object($.c)({});case 2:200==(a=e.sent).data.code&&a.data.data&&(z(a.data.data),(null===t||void 0===t?void 0:t.agent_id)||setTimeout((function(){var e;D(null===(e=a.data.data[0])||void 0===e?void 0:e.id)}),500));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),fe=function(){var e=Object(c.a)(r.a.mark((function e(t,a){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),be=function(){var e=Object(c.a)(r.a.mark((function e(t){var a,n,c,i,o,l,u;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ee.x)({date_from:ae?Object(y.i)(ae):null,date_to:ie?Object(y.i)(ie):null,agent_id:T||null});case 2:if(200!=(a=e.sent).data.code||!a.data.data){e.next=9;break}i=null===(n=a.data.data)||void 0===n?void 0:n.map((function(e,t){var a,n,r,c,i,o,l,u,s,d,m,p,f,b,g,h,v,j;return(null===e||void 0===e||null===(a=e.doi_ung)||void 0===a?void 0:a.id)?{index:t+1,name_pos:"".concat(null===e||void 0===e||null===(n=e.doi_ung)||void 0===n||null===(r=n.pos)||void 0===r?void 0:r.bank_code,"-").concat(null===e||void 0===e||null===(c=e.doi_ung)||void 0===c||null===(i=c.pos)||void 0===i?void 0:i.name),time_end:null===e||void 0===e||null===(o=e.doi_ung)||void 0===o?void 0:o.time_end,lo_number:null===e||void 0===e||null===(l=e.doi_ung)||void 0===l?void 0:l.lo_number,total_price:null===e||void 0===e||null===(u=e.doi_ung)||void 0===u?void 0:u.total_price,fee_agent:null===e||void 0===e||null===(s=e.doi_ung)||void 0===s?void 0:s.fee_agent,total_payment:(null===e||void 0===e||null===(d=e.transfer)||void 0===d?void 0:d.price)?null===e||void 0===e||null===(m=e.transfer)||void 0===m?void 0:m.price:"",id_lot:null===e||void 0===e||null===(p=e.doi_ung)||void 0===p?void 0:p.id,payment_agent:null===e||void 0===e||null===(f=e.doi_ung)||void 0===f?void 0:f.payment_agent,id_transfer:null===e||void 0===e||null===(b=e.transfer)||void 0===b?void 0:b.id}:{index:t+1,name_pos:"",time_end:"",lo_number:"",total_price:"",fee_agent:"",payment_agent:"",total_payment:(null===e||void 0===e||null===(g=e.transfer)||void 0===g?void 0:g.price)?null===e||void 0===e||null===(h=e.transfer)||void 0===h?void 0:h.price:"",id_lot:null===e||void 0===e||null===(v=e.doi_ung)||void 0===v?void 0:v.id,id_transfer:null===e||void 0===e||null===(j=e.transfer)||void 0===j?void 0:j.id}})),me(i),(null===(c=a.data)||void 0===c?void 0:c.total)&&C(null===(o=a.data)||void 0===o||null===(l=o.total)||void 0===l?void 0:l.total_payment),e.next=17;break;case 9:if(401!=a.data.code){e.next=16;break}return e.next=12,localStorage.removeItem(P.a.API_TOKEN);case 12:setTimeout((function(){le.push("/")}),1e3),A.c.error("H\u1ebft phi\xean \u0111\u0103ng nh\u1eadp",{theme:"colored"}),e.next=17;break;case 16:A.c.error(null===(u=a.data)||void 0===u?void 0:u.error,{theme:"colored"});case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ge=function(){var e=Object(c.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return l.a.createElement(Z,{data:de,removeItem:ge,setTxtSearch:s,setActiveSeleted:f,pageIndex:B,changeActive:V,setChangeActive:H,setPageIndex:F,activeSelected:p,handeChangeActive:fe,totalRecords:Q,onDoneAssgin:function(){be(!1)},household:h,setHousehold:v,listHousehold:x,changeDateRange:function(e,t){ne(e),oe(t)},startDate:ae,report:k,agent:T,setAgent:D,listAgent:L,reloadData:function(){be()}})}))}}]);