(this["webpackJsonpmatx-react"]=this["webpackJsonpmatx-react"]||[]).push([[67],{1500:function(e,a,t){"use strict";t.r(a);var n=t(14),r=t(3),l=t.n(r),i=t(8),c=t(12),s=t(25),m=t(1365),o=t(1380),u=t(1567),d=t(1371),g=t(1544),h=t(373),b=t(1374),p=t(1362),E=t(1430),v=(t(618),t(1428)),f=t(120),x=t(1411),j=t(279),y=t(146),O=t(1382),w=t(0),C=t.n(w),N=t(1377),k=t(44),S=t(145),T=t(47),M=t(52),_=t(58),V=t(1448);a.default=Object(S.b)((function(e){return{}}),{showLoading:O.b,hideLoading:O.a})((function(e){Object(y.a)().user;var a=Object(T.g)(),t=Object(w.useState)({}),r=Object(s.a)(t,2),O=r[0],S=r[1],q=Object(w.useState)(),K=Object(s.a)(q,2),F=K[0],L=K[1],P=Object(w.useState)(null),D=Object(s.a)(P,2),R=D[0],z=D[1],H=Object(w.useState)([]),I=Object(s.a)(H,2),J=I[0],B=I[1],G=Object(w.useState)("6"),Q=Object(s.a)(G,2),W=Q[0],A=Q[1],U=Object(w.useState)(),X=Object(s.a)(U,2),Y=(X[0],X[1],Object(w.useState)(!1)),Z=Object(s.a)(Y,2),$=(Z[0],Z[1],Object(w.useState)([])),ee=Object(s.a)($,2),ae=ee[0],te=ee[1],ne=Object(w.useState)(),re=Object(s.a)(ne,2),le=re[0],ie=re[1],ce=Object(w.useState)(),se=Object(s.a)(ce,2),me=se[0],oe=se[1];Object(w.useEffect)((function(){ge()}),[]);var ue=Object(N.a)().t,de=function(){var t=Object(c.a)(l.a.mark((function t(n){var r,c,s;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(r=Object(j.l)(O))){t.next=9;break}return c=ae.map((function(e){return{action_id:e}})),e.showLoading(),t.next=6,Object(v.b)(Object(i.a)(Object(i.a)({},r),{},{birth_day:Object(j.e)(R),avatar:F,status:1,gender:parseInt(W),userPermissions:c,id_card_font:le,id_card_back:me}));case 6:s=t.sent,e.hideLoading(),200==s.data.code?(a.push("/employee"),_.c.success("T\u1ea1o nh\xe2n vi\xean th\xe0nh c\xf4ng!",{theme:"colored"})):_.c.error(ue(s.data.error),{theme:"colored"});case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),ge=function(){var e=Object(c.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(v.e)({});case 2:200==(t=e.sent).data.code&&t.data.data?B(t.data.data):401==t.data.code?setTimeout((function(){a.push("/")}),1e3):_.c.error(ue(t.data.error),{theme:"colored"});case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),he=function(e){e.persist(),"limit_amount"===e.target.name?null!==e.target.value&&S(Object(i.a)(Object(i.a)({},O),{},Object(n.a)({},e.target.name,e.target.value.split(".").join("")))):S(Object(i.a)(Object(i.a)({},O),{},Object(n.a)({},e.target.name,e.target.value)))};Object(w.useEffect)((function(){return k.ValidatorForm.addValidationRule("isPasswordMatch",(function(e){return e===O.password})),function(){return k.ValidatorForm.removeValidationRule("isPasswordMatch")}}),[O.password]);var be=function(e){if(e.target.checked){var a=ae.concat(Number(e.target.name));te(a)}else{var t=ae.filter((function(a){return a!=e.target.name}));te(t)}},pe=O.username,Ee=O.full_name,ve=O.email,fe=O.phone,xe=O.password,je=O.address,ye=O.repeatPassword,Oe=O.limit_amount,we=O.benifit_rate;return C.a.createElement("div",{className:"m-sm-30"},C.a.createElement("div",{className:"mb-sm-30"},C.a.createElement("div",{className:"mb-sm-30"},C.a.createElement(f.a,{routeSegments:[{name:"Danh s\xe1ch  nh\xe2n vi\xean",path:"/employee"},{name:"Th\xeam m\u1edbi  nh\xe2n vi\xean"}]})),C.a.createElement(f.o,null,C.a.createElement(k.ValidatorForm,{onSubmit:de,onError:function(){return null}},C.a.createElement(m.a,{container:!0,spacing:3},C.a.createElement(m.a,{item:!0,lg:6,md:6,sm:12,xs:12},C.a.createElement(k.TextValidator,{variant:"outlined",className:"w-full",label:"H\u1ecd v\xe0 t\xean *",onChange:he,type:"text",name:"full_name",value:Ee||"",validators:["required"],errorMessages:["Kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng tr\u01b0\u1eddng n\xe0y"]})),C.a.createElement(m.a,{item:!0,lg:6,md:6,sm:12,xs:12},C.a.createElement(k.TextValidator,{variant:"outlined",className:"w-full",label:"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i *",onChange:he,type:"text",name:"phone",value:fe||"",validators:["required","isNumber","minStringLength:10","maxStringLength:15"],errorMessages:["Kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng tr\u01b0\u1eddng n\xe0y","Tr\u01b0\u1eddng n\xe0y ph\u1ea3i nh\u1eadp s\u1ed1 ","S\u1ed1 \u0111i\u1ec7n tho\u1ea1i ph\u1ea3i c\xf3 \xedt nh\u1ea5t 10 ch\u1eef s\u1ed1","S\u1ed1 \u0111i\u1ec7n tho\u1ea1i nhi\u1ec1u nh\u1ea5t ch\u1ec9 c\xf3 15 ch\u1eef s\u1ed1"]})),C.a.createElement(m.a,{item:!0,lg:6,md:6,sm:12,xs:12},C.a.createElement(k.TextValidator,{variant:"outlined",className:"w-full",label:"Email *",onChange:he,type:"text",name:"email",value:ve||"",validators:["required","isEmail"],errorMessages:["Kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng tr\u01b0\u1eddng n\xe0y","Email kh\xf4ng h\u1ee3p l\u1ec7"]})),C.a.createElement(m.a,{item:!0,lg:6,md:6,sm:12,xs:12},C.a.createElement(E.a,{label:"Ng\xe0y sinh",disableToolbar:!0,inputVariant:"outlined",maxDate:new Date,fullWidth:!0,clearable:!0,format:"dd/MM/yyyy",value:R,onChange:function(e){z(e)},KeyboardButtonProps:{"aria-label":"change date"}})),C.a.createElement(m.a,{item:!0,lg:6,md:6,sm:12,xs:12},C.a.createElement(k.TextValidator,{variant:"outlined",className:"w-full",label:"\u0110\u1ecba ch\u1ec9 *",onChange:he,type:"text",name:"address",value:je||"",validators:["required"],errorMessages:["Kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng tr\u01b0\u1eddng n\xe0y"]})),C.a.createElement(m.a,{item:!0,lg:6,md:6,sm:12,xs:12},C.a.createElement(k.TextValidator,{variant:"outlined",className:"w-full",label:"T\xean \u0111\u0103ng nh\u1eadp *",onChange:he,type:"text",name:"username",value:pe||"",validators:["required"],errorMessages:["Kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng tr\u01b0\u1eddng n\xe0y"]})),C.a.createElement(m.a,{item:!0,lg:6,md:6,sm:12,xs:12},C.a.createElement(k.TextValidator,{variant:"outlined",className:"w-full",label:"M\u1eadt kh\u1ea9u *",onChange:he,type:"password",name:"password",value:xe||"",validators:["required","minStringLength:8"],errorMessages:["Kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng tr\u01b0\u1eddng n\xe0y","M\u1eadt kh\u1ea9u ph\u1ea3i c\xf3 \xedt nh\u1ea5t 8 k\xfd t\u1ef1"]})),C.a.createElement(m.a,{item:!0,lg:6,md:6,sm:12,xs:12},C.a.createElement(k.TextValidator,{variant:"outlined",className:"w-full",label:"Nh\u1eadp l\u1ea1i m\u1eadt kh\u1ea9u *",onChange:he,name:"repeatPassword",type:"password",validators:["isPasswordMatch","required"],errorMessages:["M\u1eadt kh\u1ea9u kh\xf4ng tr\xf9ng nhau","Kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng tr\u01b0\u1eddng n\xe0y"],value:ye})),C.a.createElement(m.a,{item:!0,lg:6,md:6,sm:12,xs:12},C.a.createElement(k.TextValidator,{variant:"outlined",className:"w-full",label:"Chi\u1ebft kh\u1ea5u *",onChange:he,type:"text",name:"benifit_rate",value:we||"",validators:["required","isFloat"],errorMessages:["Kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng tr\u01b0\u1eddng n\xe0y","Tr\u01b0\u1eddng n\xe0y ph\u1ea3i nh\u1eadp s\u1ed1 "]})),C.a.createElement(m.a,{item:!0,lg:6,md:6,sm:12,xs:12},C.a.createElement(k.TextValidator,{variant:"outlined",className:"w-full",label:"H\u1ea1n m\u1ee9c trong ng\xe0y *",onChange:he,type:"text",name:"limit_amount",value:Object(j.k)(Oe)||"",validators:["required"],errorMessages:["Kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng tr\u01b0\u1eddng n\xe0y"]})),C.a.createElement(m.a,{item:!0,lg:6,md:6,sm:12,xs:12},C.a.createElement(V.a,{id:"front",images:le,onFileChange:function(e){ie(e)},title:"CCCD m\u1eb7t tr\u01b0\u1edbc"})),C.a.createElement(m.a,{item:!0,lg:6,md:6,sm:12,xs:12},C.a.createElement(V.a,{id:"back",images:me,onFileChange:function(e){oe(e)},title:"CCCD m\u1eb7t sau"})),C.a.createElement(m.a,{item:!0,xs:12,sm:12},C.a.createElement(m.a,{item:!0,lg:12,md:12,sm:12,xs:12},C.a.createElement(x.a,{images:F,onFileChange:function(e){L(e)},title:"\u1ea2nh ch\xe2n dung + CCCD"}))),C.a.createElement(m.a,{style:{alignItems:"center"},container:!0,row:!0,item:!0,xs:6,sm:6},C.a.createElement(m.a,{style:{paddingRight:"1.5em",width:100}},C.a.createElement(o.a,null,"Gi\u1edbi t\xednh")),C.a.createElement(u.a,{row:!0,value:W,onChange:function(e){A(e.target.value)}},C.a.createElement(d.a,{value:"6",control:C.a.createElement(g.a,null),label:"Nam"}),C.a.createElement(d.a,{value:"7",control:C.a.createElement(g.a,null),label:"N\u1eef"}))),C.a.createElement(m.a,{item:!0,xs:12,sm:12},C.a.createElement(h.a,{variant:"h5"},"C\u1ea5p quy\u1ec1n cho nh\xe2n vi\xean"),J.map((function(e){return C.a.createElement(m.a,{container:!0,item:!0,xs:12,sm:12},C.a.createElement(h.a,{variant:"h6"},e.name),C.a.createElement(m.a,{container:!0,item:!0,xs:12,sm:12},e.actions.map((function(e){return C.a.createElement(m.a,{item:!0,xs:4},C.a.createElement(d.a,{label:e.action_name,control:C.a.createElement(b.a,{size:"small",color:"primary",onChange:be,name:e.action_id,checked:ae.includes(e.action_id)})}))}))))})))),C.a.createElement(m.a,{style:{marginTop:20},container:!0,justify:"flex-end"},C.a.createElement(M.b,{to:"/employee"},C.a.createElement(p.a,{style:{marginRight:20},color:"inherit",variant:"contained",onClick:function(){}},C.a.createElement("span",{className:"capitalize"},"Quay l\u1ea1i"))),C.a.createElement(p.a,{color:"primary",variant:"contained",type:"submit"},C.a.createElement("span",{className:"capitalize"},"Th\xeam m\u1edbi")))))))}))}}]);